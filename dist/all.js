"use strict";const title="Mario Krok-Adamski - Recruitment task",popup=(document.querySelector("title").textContent=title,document.querySelector(".popup")),popupContainer=document.querySelector(".popup-container"),popupParagraph=document.querySelector(".popup-paragraph"),btnOpenPopup=document.querySelector(".button-popup"),btnClosePopup=document.querySelector(".close-popup"),btnResetCounter=document.querySelector(".reset-counter"),localStorageCounter="counter";let userClickCount=0;const closePopup=()=>{popup.classList.add("hidden")},counterParagraphInject=()=>{popupParagraph.innerHTML=`<p class="popup-paragraph">You have clicked <strong>${userClickCount} times</strong> to related button.</p>`},openPopupAndCount=()=>{popup.classList.remove("hidden"),userClickCount=Number(localStorage.getItem(localStorageCounter)),localStorage.setItem(localStorageCounter,userClickCount+=1),counterParagraphInject(),5<userClickCount&&btnResetCounter.classList.remove("hidden")},url=(btnOpenPopup.addEventListener("click",()=>{openPopupAndCount()}),btnClosePopup.addEventListener("click",()=>{closePopup()}),document.addEventListener("click",e=>{e.target.classList.contains("popup")&&closePopup()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&closePopup()}),btnResetCounter.addEventListener("click",()=>{localStorage.setItem(localStorageCounter,userClickCount=0),counterParagraphInject(),btnResetCounter.classList.add("hidden")}),"https://jsonplaceholder.typicode.com/users");fetch(url).then(e=>e.json()).then(e=>{let t=e;t.map(e=>{const t=document.querySelector(".table-content");e=`<tr>
        <td>${e.name}</td>
        <td>${e.email}</td>
        <td>${e.address.city}, ${e.address.street}, ${e.address.suite}</td>
        <td>${e.phone}</td>
        <td>${e.company.name}</td>
      </tr>`;t.insertAdjacentHTML("afterbegin",e)})}).catch(e=>{console.log(e)});